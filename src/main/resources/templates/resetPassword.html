<!DOCTYPE html>
<html>
<head>
    <title>Create New Password</title>

    <style>
        *{
            margin:0;
            padding:0;
            box-sizing:border-box;
            font-family:'Segoe UI', sans-serif;
        }

        body{
            height:100vh;
            display:flex;
            justify-content:center;
            align-items:center;
            background: linear-gradient(-45deg,#11998e,#38ef7d,#667eea,#764ba2);
            background-size:400% 400%;
            animation: gradientMove 10s ease infinite;
        }

        @keyframes gradientMove{
            0%{background-position:0% 50%;}
            50%{background-position:100% 50%;}
            100%{background-position:0% 50%;}
        }

        .card{
            width:380px;
            padding:40px 30px;
            border-radius:20px;
            background:rgba(255,255,255,0.15);
            backdrop-filter: blur(20px);
            box-shadow:0 20px 40px rgba(0,0,0,0.3);
            text-align:center;
            color:white;
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn{
            from{opacity:0; transform:translateY(20px);}
            to{opacity:1; transform:translateY(0);}
        }

        h2{
            margin-bottom:10px;
        }

        p{
            font-size:14px;
            margin-bottom:25px;
            opacity:0.85;
        }

        .input-field{
            width:100%;
            padding:14px;
            border-radius:12px;
            border:none;
            outline:none;
            margin-bottom:18px;
            font-size:14px;
            transition:0.3s;
        }

        .input-field:focus{
            transform:scale(1.05);
            box-shadow:0 0 15px rgba(255,255,255,0.7);
        }

        button{
            width:100%;
            padding:14px;
            border-radius:12px;
            border:none;
            background:white;
            color:#11998e;
            font-weight:bold;
            cursor:pointer;
            transition:0.3s;
        }

        button:hover{
            transform:translateY(-3px);
            box-shadow:0 10px 20px rgba(0,0,0,0.3);
        }

        .error{
            color:#ffdddd;
            font-size:13px;
            margin-top:10px;
        }
    </style>
</head>

<body>

<div class="card">

    <h2>Create New Password</h2>
    <p>Enter your new secure password</p>
	<div th:if="${Invalid}" 
			     style="background:rgba(255,0,0,0.3);
			            padding:5px;
			            border-radius:10px;
			            margin-bottom:15px;">
			    <span th:text="${Invalid}"></span>
			</div>

    <form action="/resetPassword" method="post" onsubmit="return validatePassword()">
		<input type="hidden" name="email" th:value="${email}">

        <input type="password" 
               id="Password" 
               name="Password"
               class="input-field"
               placeholder="New Password"
               required>

        <input type="password" 
               id="confirmPassword" 
               name="confirmPassword"
               class="input-field"
               placeholder="Re-enter Password"
               required>

        <button type="submit">Update Password</button>

        <div class="error" id="errorMsg"></div>

    </form>

</div>

<script>
function validatePassword() {
    var pass = document.getElementById("password").value;
    var confirm = document.getElementById("confirmPassword").value;

    if(pass !== confirm) {
        document.getElementById("errorMsg").innerText = 
            "Passwords do not match!";
        return false;
    }

    if(pass.length < 6) {
        document.getElementById("errorMsg").innerText = 
            "Password must be at least 6 characters!";
        return false;
    }

    return true;
}
</script>

</body>
</html>
